<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±Ù</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  font-family:"Tajawal",sans-serif;
  background:#F4FAFF;
  color:#0D47A1;
  padding:16px;
  max-width:1200px;
  margin:auto;
}

.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:16px;
  flex-wrap:wrap;
  gap:10px;
}

.logo{width:120px;}
h2{margin:0;}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:20px;
  width:100%;
}

.card{
  background:#fff;
  border-radius:16px;
  padding:14px;
  box-shadow:0 4px 12px rgba(0,0,0,0.08);
  border:1px solid #E3F2FD;
}

.card h3{
  margin-top:0;
  margin-bottom:10px;
  font-size:16px;
}

.stat-row{
  display:flex;
  justify-content:space-between;
  margin-bottom:6px;
  font-size:14px;
}

.label{color:#4FC3F7;}
.value{color:#0D47A1;font-weight:600;}

.btn{
  padding:8px 12px;
  border:none;
  border-radius:999px;
  background:#0D47A1;
  color:#fff;
  font-size:13px;
  cursor:pointer;
  margin-top:8px;
}

.btn-outline{
  background:transparent;
  border:1px solid #0D47A1;
  color:#0D47A1;
}

input,select{
  width:100%;
  padding:6px 8px;
  border-radius:8px;
  border:1px solid #D1D5DB;
  margin-bottom:6px;
  font-size:13px;
}

table{
  width:100%;
  border-collapse:collapse;
  font-size:12px;
}

th,td{
  border-bottom:1px solid #E5E7EB;
  padding:4px 6px;
  text-align:right;
}

th{background:#F3F4F6;font-weight:600;}

.tag{
  display:inline-block;
  padding:2px 6px;
  border-radius:999px;
  font-size:11px;
  background:#E3F2FD;
  color:#0D47A1;
}

.logout{
  margin-top:16px;
  text-align:center;
  font-size:14px;
  color:#D32F2F;
  cursor:pointer;
}

.section-title{
  font-size:15px;
  font-weight:700;
  margin-bottom:6px;
  color:#0D47A1;
}

.small{
  font-size:12px;
  color:#6B7280;
  margin-bottom:6px;
}

@media(max-width:600px){
  body{ padding:10px; }
  .card{ padding:12px; }
  .header{ flex-direction:column; text-align:center; }
}
</style>
</head>

<body>

<div class="header">
  <div style="display:flex;align-items:center;gap:10px;">
    <img src="logo.png" class="logo">
    <div>
      <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±Ù</h2>
      <div style="font-size:13px;color:#4FC3F7;">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙŠÙˆÙ… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ù† Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯</div>
    </div>
  </div>
  <button class="btn-outline" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</div>

<div class="grid">

  <div class="card">
    <div class="section-title">ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„ÙŠÙˆÙ…</div>
    <div class="small">Ø§Ù„ÙˆØ§Ø±Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ø­Ø³Ø¨ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª</div>

    <div class="stat-row">
      <span class="label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙˆØ§Ø±Ø¯ Ø§Ù„ÙŠÙˆÙ…</span>
      <span class="value" id="todayTotal">0 Ø±ÙŠØ§Ù„</span>
    </div>

    <div class="stat-row">
      <span class="label">Ø´Ø¨ÙƒØ© Ø§Ù„ÙŠÙˆÙ…</span>
      <span class="value" id="todayNetwork">0 Ø±ÙŠØ§Ù„</span>
    </div>

    <div class="stat-row">
      <span class="label">ÙƒØ§Ø´ Ø§Ù„ÙŠÙˆÙ…</span>
      <span class="value" id="todayCash">0 Ø±ÙŠØ§Ù„</span>
    </div>

    <hr style="margin:10px 0;">

    <div class="section-title" style="font-size:14px;">ğŸ§½ Ø¹Ø¯Ø¯ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ÙŠÙˆÙ…</div>
    <div id="todayServices" class="small">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>

    <hr style="margin:10px 0;">

    <div class="section-title" style="font-size:14px;">ğŸ‘¥ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
    <div class="stat-row">
      <span class="label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø­Ø§Ù…Ù„ÙŠ Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©</span>
      <span class="value" id="totalMembers">0</span>
    </div>
  </div>

  <div class="card">
    <div class="section-title">ğŸ‘¤ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
    <div class="small">Ø¨Ø­Ø« ØªÙØµÙŠÙ„ÙŠ ÙÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>

    <input id="customerSearch" placeholder="Ø§Ø³Ù… / Ø±Ù‚Ù… Ø¹Ø¶ÙˆÙŠØ© / Ø¬ÙˆØ§Ù„">
    <button class="btn" onclick="loadCustomers()">Ø¨Ø­Ø«</button>

    <div style="max-height:260px;overflow:auto;margin-top:6px;">
      <table>
        <thead>
          <tr>
            <th>Ø§Ù„Ø§Ø³Ù…</th>
            <th>Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©</th>
            <th>Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</th>
            <th>Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª</th>
            <th>Ø§Ù„Ø®Ø¯Ù…Ø§Øª</th>
            <th>Ø§Ù„Ù…Ø¯ÙÙˆØ¹</th>
          </tr>
        </thead>
        <tbody id="customersTable">
          <tr><td colspan="6" style="text-align:center;color:#9CA3AF;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="card">
    <div class="section-title">ğŸš— Ø³ÙŠØ§Ø±Ø§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ØºØ³Ù„Ø© (ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©)</div>
    <div class="small">ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹ Ù„ÙƒÙ„ Ø³ÙŠØ§Ø±Ø©</div>

    <div id="activeVisitsList" class="small">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    <button class="btn" onclick="loadActiveVisits()" style="width:100%;">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
  </div>

  <div class="card">
    <div class="section-title">ğŸ“… Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</div>
    <div class="small">ØªØ£ÙƒÙŠØ¯ Ø£Ùˆ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª ÙˆØ¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„</div>

    <div id="bookingsList" class="small">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    <button class="btn" onclick="loadBookings()" style="width:100%;">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</button>
  </div>

  <div class="card">
    <div class="section-title">ğŸ§¾ Ø§Ù„ÙÙˆØ§ØªÙŠØ± ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ‡Ø§</div>
    <div class="small">Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</div>

    <input id="invoiceSearch" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©">
    <button class="btn" onclick="searchInvoices()">Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª</button>

    <div id="invoiceVisits" class="small" style="max-height:160px;overflow:auto;margin-top:6px;">
      Ù„Ø§ ØªÙˆØ¬Ø¯ Ø²ÙŠØ§Ø±Ø§Øª Ø¨Ø¹Ø¯
    </div>

    <div style="margin-top:8px;">
      <button class="btn-outline" onclick="sendInvoice('last')">Ø¥Ø±Ø³Ø§Ù„ ÙØ§ØªÙˆØ±Ø© Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©</button>
      <button class="btn-outline" onclick="sendInvoice('all')">Ø¥Ø±Ø³Ø§Ù„ ÙØ§ØªÙˆØ±Ø© ÙƒÙ„ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª</button>
    </div>
  </div>

</div>

<div class="logout" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</div>

<script src="api.js"></script>
<script src="supervisor.js"></script>

</body>
</html>
