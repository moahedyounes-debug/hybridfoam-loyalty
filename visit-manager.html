<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ุฅุฏุงุฑุฉ ุงูุฒูุงุฑุงุช</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="visit-manager.css">
  <script src="api.js"></script>
  <script src="visit-manager.js" defer></script>
</head>

<body>

  <h2>ุฅุฏุงุฑุฉ ุงูุฒูุงุฑุงุช</h2>

  <div class="layout">

    <!-- ุงูุนููุฏ ุงูุฃููู: ุงูุณูุงุฑุงุช ุบูุฑ ุงููุฏููุนุฉ -->
    <div class="right-col">
      <div class="box">
        <h3>๐ ุณูุงุฑุงุช ุฏุงุฎู ุงููุบุณูุฉ (ุบูุฑ ูุฏููุนุฉ)</h3>
        <div id="activeVisitsList"></div>
        <button id="btnRefreshActive" class="btn-secondary" style="width:100%;margin-top:10px;">
          ุชุญุฏูุซ ุงููุงุฆูุฉ
        </button>
      </div>
    </div>

    <!-- ุงูุนููุฏ ุงูุฃูุณุฑ: ุงูุจุญุซ + ุงูุชุณุฌูู -->
    <div class="left-col">

      <!-- ุงูุจุญุซ -->
      <div class="box">
        <h3>ุจุญุซ ุนู ุงูุณูุงุฑุฉ</h3>

        <label>ุฑูู ุงูุฌูุงู / ุฑูู ุงูุนุถููุฉ / ุฑูู ุงูููุญุฉ</label>
        <input type="text" id="phone" placeholder="ุงูุชุจ ุฑูู ุงูููุญุฉ ุฃู ุงูุฌูุงู ุฃู ุงูุนุถููุฉ">

        <button id="btnSearch" class="btn-primary">ุจุญุซ</button>

        <div id="customerInfo" style="margin-top:8px;font-size:13px;color:#555;display:none;"></div>
      </div>

      <!-- ุงุฎุชูุงุฑ ุงูุณูุงุฑุฉ -->
      <div id="carsBox" class="box" style="display:none;">
        <h3>ุงุฎุชุฑ ุงูุณูุงุฑุฉ</h3>
        <div id="carsList"></div>
      </div>

      <!-- ุชุณุฌูู ุงูุฒูุงุฑุฉ -->
      <div id="visitBox" class="box" style="display:none;">
        <h3>ุชุณุฌูู ุฒูุงุฑุฉ ุฌุฏูุฏุฉ</h3>

        <!-- ููุน ุงูุฎุฏูุฉ + ุชูุงุตูููุง -->
        <div class="row">
          <div>
            <label>ููุน ุงูุฎุฏูุฉ</label>
            <select id="service_type"></select>
          </div>

          <div>
            <label>ุชูุงุตูู ุงูุฎุฏูุฉ</label>
            <select id="service_detail"></select>
          </div>
        </div>

        <!-- ุงูุณุนุฑ + ุงูููุงุท -->
        <div class="row">
          <div>
            <label>ุงูุณุนุฑ</label>
            <input type="number" id="price">
          </div>

          <div>
            <label>ุงูููุงุท</label>
            <input type="number" id="points" readonly>
          </div>
        </div>

        <!-- ุฅุถุงูุฉ ุฎุฏูุฉ -->
        <button id="btnAddService" class="btn-secondary">ุฅุถุงูุฉ ุฎุฏูุฉ +</button>

        <!-- ูุงุฆูุฉ ุงูุฎุฏูุงุช ุงููุฎุชุงุฑุฉ -->
        <div id="servicesList" style="margin-top:10px;"></div>

        <h3 style="margin-top:15px;">ุงูุฅุฌูุงูู: <span id="totalPrice">0</span> ุฑูุงู</h3>

        <!-- ุงูุฎุตู -->
        <div class="row">
          <div>
            <label>ุงูุฎุตู (ุฑูุงู)</label>
            <input type="number" id="discount" placeholder="0">
          </div>
        </div>

        <!-- ุฑูู ุงููููู -->
        <div class="row">
          <div>
            <label>ุฑูู ุงููููู</label>
            <select id="parking_slot">
              <option value="">โ ุงุฎุชุฑ ุฑูู ุงููููู โ</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
            </select>
          </div>
        </div>

        <!-- ุงูููุธู -->
        <div class="row">
          <div>
            <label>ุงูููุธู</label>
            <select id="employee_in">
              <option value="">โ ุงุฎุชุฑ ุงูููุธู โ</option>
            </select>
          </div>
        </div>

        <!-- ุญุงูุฉ ุงูุฏูุน -->
        <div class="row">
          <div>
            <label>ุญุงูุฉ ุงูุฏูุน</label>
            <select id="payment_status">
              <option value="">โ ุงุฎุชุฑ ุญุงูุฉ ุงูุฏูุน โ</option>
              <option value="ูุฏููุน">ูุฏููุน</option>
              <option value="ุบูุฑ ูุฏููุน">ุบูุฑ ูุฏููุน</option>
            </select>
          </div>
        </div>

        <!-- ุงููุฑุน + ุทุฑููุฉ ุงูุฏูุน (ุชุธูุฑ ููุท ุฅุฐุง ูุฏููุน) -->
        <div class="row">
          <div>
            <label>ุงููุฑุน</label>
            <select id="branch">
              <option value="Makkah - ููุฉ">Makkah - ููุฉ</option>
            </select>
          </div>

          <div id="payment_method_wrapper" style="display:none;">
            <label>ุทุฑููุฉ ุงูุฏูุน</label>
            <select id="payment_method">
              <option value="">โ ุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน โ</option>
              <option value="ูุงุด">ูุงุด</option>
              <option value="ุดุจูุฉ">ุดุจูุฉ</option>
            </select>
          </div>
        </div>

        <!-- ุฒุฑ ุชุณุฌูู ุงูุฒูุงุฑุฉ -->
        <button id="btnSubmitVisit" class="btn-primary" disabled>
          ุชุณุฌูู ุงูุฒูุงุฑุฉ
        </button>

      </div>
    </div>

  </div>

</body>
</html>

