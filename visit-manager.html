<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ุฑุบูุฉ ุงููุฌูู - ุฅุฏุงุฑุฉ ุงูุฒูุงุฑุงุช</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="visit-manager.css">
  <script src="api.js"></script>
  <script src="visit-manager.js" defer></script>
</head>

<body>

  <!-- ุดุนุงุฑ + ุนููุงู -->
  <div class="header">
    <img src="logo.png" class="logo">
    <h1>ุฑุบูุฉ ุงููุฌูู</h1>
    <h2>ุฅุฏุงุฑุฉ ุงูุฒูุงุฑุงุช</h2>
  </div>

  <!-- ุงูุณูุงุฑุงุช ุฏุงุฎู ุงููุบุณูุฉ -->
  <div class="section">
    <h3 class="section-title">๐ ุณูุงุฑุงุช ุฏุงุฎู ุงููุบุณูุฉ (ุบูุฑ ูุฏููุนุฉ)</h3>
    <div id="activeVisitsList" class="cards"></div>
    <button id="btnRefreshActive" class="btn-secondary full">ุชุญุฏูุซ ุงููุงุฆูุฉ</button>
  </div>

  <!-- ุงูุจุญุซ -->
  <div class="section">
    <h3 class="section-title">ุจุญุซ ุนู ุงูุณูุงุฑุฉ</h3>

    <label>ุฑูู ุงูุฌูุงู / ุฑูู ุงูุนุถููุฉ / ุฑูู ุงูููุญุฉ</label>
    <input type="text" id="phone" placeholder="ุงูุชุจ ุฑูู ุงูููุญุฉ ุฃู ุงูุฌูุงู ุฃู ุงูุนุถููุฉ">

    <button id="btnSearch" class="btn-primary full">ุจุญุซ</button>

    <div id="customerInfo" class="info-box" style="display:none;"></div>
  </div>

  <!-- ุงุฎุชูุงุฑ ุงูุณูุงุฑุฉ -->
  <div id="carsBox" class="section" style="display:none;">
    <h3 class="section-title">ุงุฎุชุฑ ุงูุณูุงุฑุฉ</h3>
    <div id="carsList"></div>
  </div>

  <!-- ุชุณุฌูู ุงูุฒูุงุฑุฉ -->
  <div id="visitBox" class="section" style="display:none;">
    <h3 class="section-title">ุชุณุฌูู ุฒูุงุฑุฉ ุฌุฏูุฏุฉ</h3>

    <div class="row">
      <div>
        <label>ููุน ุงูุฎุฏูุฉ</label>
        <select id="service_type"></select>
      </div>

      <div>
        <label>ุชูุงุตูู ุงูุฎุฏูุฉ</label>
        <select id="service_detail"></select>
      </div>
    </div>

    <div class="row">
      <div>
        <label>ุงูุณุนุฑ</label>
        <input type="number" id="price">
      </div>

      <div>
        <label>ุงูููุงุท</label>
        <input type="number" id="points" readonly>
      </div>
    </div>

    <button id="btnAddService" class="btn-secondary full">ุฅุถุงูุฉ ุฎุฏูุฉ +</button>

    <div id="servicesList" class="services-box"></div>

    <h3 class="total">ุงูุฅุฌูุงูู: <span id="totalPrice">0</span> ุฑูุงู</h3>

    <div class="row">
      <div>
        <label>ุงูุฎุตู (ุฑูุงู)</label>
        <input type="number" id="discount" placeholder="0">
      </div>
    </div>

    <div class="row">
      <div>
        <label>ุฑูู ุงููููู</label>
        <select id="parking_slot">
          <option value="">โ ุงุฎุชุฑ ุฑูู ุงููููู โ</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div>
        <label>ุงูููุธู</label>
        <select id="employee_in">
          <option value="">โ ุงุฎุชุฑ ุงูููุธู โ</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div>
        <label>ุญุงูุฉ ุงูุฏูุน</label>
        <select id="payment_status">
          <option value="">โ ุงุฎุชุฑ ุญุงูุฉ ุงูุฏูุน โ</option>
          <option value="ูุฏููุน">ูุฏููุน</option>
          <option value="ุบูุฑ ูุฏููุน">ุบูุฑ ูุฏููุน</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div>
        <label>ุงููุฑุน</label>
        <select id="branch">
          <option value="Makkah - ููุฉ">Makkah - ููุฉ</option>
        </select>
      </div>

      <div id="payment_method_wrapper" style="display:none;">
        <label>ุทุฑููุฉ ุงูุฏูุน</label>
        <select id="payment_method">
          <option value="">โ ุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน โ</option>
          <option value="ูุงุด">ูุงุด</option>
          <option value="ุดุจูุฉ">ุดุจูุฉ</option>
        </select>
      </div>
    </div>

    <button id="btnSubmitVisit" class="btn-primary full" disabled>
      ุชุณุฌูู ุงูุฒูุงุฑุฉ
    </button>

  </div>

  <!-- Toast -->
  <div id="toast-container"></div>

</body>
</html>
