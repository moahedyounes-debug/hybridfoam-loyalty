<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฑุบูุฉ ุงููุฌูู - ุฅุฏุงุฑุฉ ุงูุฒูุงุฑุงุช</title>

    <!-- ูููุงุช ุงูุชูุณูู -->
    <link rel="stylesheet" href="visit-manager.css">

    <!-- API -->
    <script src="api.js"></script>
</head>

<body>

    <div class="container">

        <!-- ===========================
             ุงูุนููุงู ุงูุฑุฆูุณู
        ============================ -->
        <div class="page-header">
            <h1>ุฑุบูุฉ ุงููุฌูู</h1>
            <h2>ุฅุฏุงุฑุฉ ุงูุฒูุงุฑุงุช</h2>
        </div>

        <!-- ===========================
             ุดุฑูุท ุงูููุฎุต
        ============================ -->
        <div class="summary-bar">
            <div class="summary-item">
                <div class="label">ุงูุฒูุงุฑุงุช ุงููุดุทุฉ</div>
                <div class="value" id="summaryActive">0</div>
            </div>
            <div class="summary-item">
                <div class="label">ุงูุณูุงุฑุงุช ุญุงููุงู</div>
                <div class="value" id="summaryCars">0</div>
            </div>
            <div class="summary-item">
                <div class="label">ุฅุฌูุงูู ุงููุณุชุญู</div>
                <div class="value" id="summaryTotal">0 ุฑูุงู</div>
            </div>
        </div>

        <!-- ===========================
             ุงูุณูุงุฑุงุช ุฏุงุฎู ุงููุบุณูุฉ
        ============================ -->
        <div class="section">
            <h3 class="section-title">๐ ุณูุงุฑุงุช ุฏุงุฎู ุงููุบุณูุฉ (ุบูุฑ ูุฏููุนุฉ)</h3>

            <div id="activeVisitsList" class="cards">
                <div class="loading">ุฌุงุฑู ุงูุชุญููู...</div>
            </div>

            <button id="btnRefreshActive" class="btn-secondary full">
                ๐ ุชุญุฏูุซ ุงููุงุฆูุฉ
            </button>
        </div>

        <!-- ===========================
             ุชุณุฌูู ุฒูุงุฑุฉ ุฌุฏูุฏุฉ
             (ููุง ูุจุฏุฃ visitBox)
        ============================ -->
        <div id="visitBox" class="section">
            <h3 class="section-title">๐ ุชุณุฌูู ุฒูุงุฑุฉ ุฌุฏูุฏุฉ</h3>
                        <!-- ุจูุงูุงุช ุงูููุญุฉ -->
            <div class="row">
                <div>
                    <label>ุฃุฑูุงู ุงูููุญุฉ *</label>
                    <input type="text" id="plate_numbers" placeholder="1234" required>
                </div>
                <div>
                    <label>ุญุฑูู ุงูููุญุฉ *</label>
                    <input type="text" id="plate_letters" placeholder="ABC">
                </div>
            </div>

            <!-- ุจูุงูุงุช ุงูุณูุงุฑุฉ -->
            <div class="row">
                <div>
                    <label>ููุน ุงูุณูุงุฑุฉ *</label>
                    <select id="car_type"></select>
                </div>
                <div>
                    <label>ููุฏูู ุงูุณูุงุฑุฉ *</label>
                    <select id="car_model"></select>
                </div>
            </div>

            <div class="row">
                <div>
                    <label>ุญุฌู ุงูุณูุงุฑุฉ *</label>
                    <select id="car_size"></select>
                </div>
                <div>
                    <label>ุงูููุธู *</label>
                    <select id="employee_in"></select>
                </div>
            </div>

            <!-- ุงููุฑุน ูุงููููู -->
            <div class="row">
                <div>
                    <label>ุงููุฑุน *</label>
                    <select id="branch"></select>
                </div>
                <div>
                    <label>ุฑูู ุงููููู *</label>
                    <select id="parking_slot"></select>
                </div>
            </div>

            <!-- ุงูุฎุฏูุฉ -->
            <div class="row">
                <div>
                    <label>ููุน ุงูุฎุฏูุฉ *</label>
                    <select id="service_type">
                        <option value="">โ ุงุฎุชุฑ ุงูููุน โ</option>
                    </select>
                </div>
                <div>
                    <label>ุชูุงุตูู ุงูุฎุฏูุฉ *</label>
                    <select id="service_detail">
                        <option value="">โ ุงุฎุชุฑ ุงูุฎุฏูุฉ โ</option>
                    </select>
                </div>
            </div>

            <!-- ุงูุณุนุฑ ูุงูููุงุท -->
            <div class="row">
                <div>
                    <label>ุงูุณุนุฑ</label>
                    <input type="number" id="price" readonly>
                </div>
                <div>
                    <label>ุงูููุงุท / ุงูุนูููุฉ</label>
                    <input type="number" id="points" readonly>
                </div>
            </div>

            <!-- ุฅุถุงูุฉ ุฎุฏูุฉ -->
            <button id="btnAddService" class="btn-secondary full">
                โ ุฅุถุงูุฉ ุฎุฏูุฉ
            </button>

            <!-- ูุงุฆูุฉ ุงูุฎุฏูุงุช -->
            <div id="servicesList" class="services-box"></div>

            <!-- ุงูุฅุฌูุงูู -->
            <div class="total">
                ุงูุฅุฌูุงูู: <span id="totalPrice">0</span> ุฑูุงู
            </div>

            <!-- ุงูุฎุตู / ุงูุฅูุฑุงููุฉ -->
            <div class="row">
                <div>
                    <label>ุงูุฎุตู</label>
                    <input type="number" id="discount" placeholder="0" value="0">
                </div>
                <div>
                    <label>ุงูุฅูุฑุงููุฉ</label>
                    <input type="number" id="tip" placeholder="0" value="0">
                </div>
            </div>

            <!-- ุงูุฏูุน -->
            <div class="row">
                <div>
                    <label>ุญุงูุฉ ุงูุฏูุน *</label>
                    <select id="payment_status">
                        <option value="">โ ุงุฎุชุฑ โ</option>
                        <option value="ุบูุฑ ูุฏููุน">ุบูุฑ ูุฏููุน</option>
                        <option value="ูุฏููุน">ูุฏููุน</option>
                    </select>
                </div>
                <div>
                    <label>ุทุฑููุฉ ุงูุฏูุน</label>
                    <select id="payment_method">
                        <option value="">โ ุงุฎุชุฑ โ</option>
                        <option value="ูุงุด">ูุงุด</option>
                        <option value="ุดุจูุฉ">ุดุจูุฉ</option>
                        <option value="ุฌุฒุฆู">ุฌุฒุฆู</option>
                    </select>
                </div>
            </div>
                        <!-- ุงูุฏูุน ุงูุฌุฒุฆู -->
            <div id="partial_payment_box" style="display:none; margin-top:15px;">
                <div class="row">
                    <div>
                        <label>ูุจูุบ ุงููุงุด</label>
                        <input type="number" id="cash_amount" placeholder="0">
                    </div>
                    <div>
                        <label>ูุจูุบ ุงูุดุจูุฉ</label>
                        <input type="number" id="card_amount" placeholder="0">
                    </div>
                </div>

                <div class="total">
                    ุงููุฌููุน ุงููุฏููุน:
                    <span id="paid_total">0</span> ุฑูุงู
                </div>
            </div>

            <!-- ุฒุฑ ุชุณุฌูู ุงูุฒูุงุฑุฉ -->
            <button id="btnSubmitVisit"
                    class="btn-primary full"
                    style="margin-top:20px;"
                    onclick="submitVisit()">
                ๐พ ุชุณุฌูู ุงูุฒูุงุฑุฉ
            </button>

        </div> <!-- ููุงูุฉ visitBox -->

    </div> <!-- ููุงูุฉ container -->

    <!-- ุชุญููู ุงูุณูุฑุจุช ุจุนุฏ ูู ุงูุนูุงุตุฑ -->
    <script src="visit-manager.js"></script>

</body>
</html>
