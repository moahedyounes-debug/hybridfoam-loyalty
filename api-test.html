<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ø®ØªØ¨Ø§Ø± API</title>

<style>
    body {
        font-family: "Tajawal", sans-serif;
        background: #111;
        color: #fff;
        padding: 20px;
        text-align: center;
    }
    h1 {
        color: #d4af37;
    }
    button {
        width: 90%;
        padding: 14px;
        margin: 10px 0;
        border: none;
        border-radius: 10px;
        background: #d4af37;
        color: #000;
        font-size: 18px;
        cursor: pointer;
        font-weight: bold;
    }
    button:hover {
        background: #b8922f;
    }
    #output {
        margin-top: 25px;
        background: #222;
        padding: 15px;
        border-radius: 10px;
        text-align: left;
        white-space: pre-wrap;
        direction: ltr;
    }
</style>
</head>

<body>

<h1>ğŸ”§ Ø§Ø®ØªØ¨Ø§Ø± API â€” Ø±ØºÙˆØ© Ø§Ù„Ù‡Ø¬ÙŠÙ†</h1>

<script>
const API = "https://script.google.com/macros/s/AKfycbxCBVAavtZ_gBcmgV7a4NOsfC_auwOZk-ygHAHIOl8-W3o9UcMi2OemEJ0e8s4XdKS1hw/exec";

async function test(action) {
    let url = API + "?action=" + action;

    // Ø¨Ø¹Ø¶ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªØ­ØªØ§Ø¬ Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª
    if (action === "getByPhone") {
        const phone = prompt("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±:");
        url += "&phone=" + phone;
    }

    if (action === "getVisits") {
        const mem = prompt("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±:");
        url += "&membership=" + mem;
    }

    if (action === "addVisit") {
        const mem = prompt("Ø±Ù‚Ù… Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©:");
        url += "&membership=" + mem + "&service=Test&price=10&points=1";
    }

    document.getElementById("output").innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„...\n" + url;

    try {
        const res = await fetch(url);
        const json = await res.json();
        document.getElementById("output").innerText =
            "ğŸ”— URL:\n" + url + "\n\nğŸ“Œ Response:\n" + JSON.stringify(json, null, 2);
    } catch (err) {
        document.getElementById("output").innerText = "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„:\n" + err;
    }
}
</script>

<button onclick="test('getAll')">ğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± getAll (Ø¬Ù„Ø¨ ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡)</button>
<button onclick="test('getAllVisits')">ğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± getAllVisits (Ø¬Ù„Ø¨ ÙƒÙ„ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª)</button>
<button onclick="test('getByPhone')">ğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± getByPhone (Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„)</button>
<button onclick="test('getVisits')">ğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± getVisits (Ø²ÙŠØ§Ø±Ø§Øª Ø¹Ø¶ÙˆÙŠØ©)</button>
<button onclick="test('addVisit')">ğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± addVisit (Ø¥Ø¶Ø§ÙØ© Ø²ÙŠØ§Ø±Ø©)</button>

<div id="output">Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...</div>

</body>
</html>
