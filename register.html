<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…ÙŠÙ„ - Ø±ØºÙˆØ© Ø§Ù„Ù‡Ø¬ÙŠÙ†</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; }
    .container { max-width: 500px; margin: auto; background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
    h1 { text-align: center; color: #333; }
    input { width: 100%; padding: 15px; margin: 10px 0; border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; }
    button { width: 100%; padding: 15px; background: #4CAF50; color: white; border: none; border-radius: 10px; font-size: 18px; cursor: pointer; }
    #result { margin-top: 20px; padding: 15px; border-radius: 10px; text-align: center; font-weight: bold; }
    .success { background: #d4edda; color: #155724; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ‰ Ø±ØºÙˆØ© Ø§Ù„Ù‡Ø¬ÙŠÙ† - ØªØ³Ø¬ÙŠÙ„ Ø³Ø±ÙŠØ¹</h1>
    <form id="form">
      <input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
      <input type="tel" id="phone" placeholder="Ø§Ù„Ø¬ÙˆØ§Ù„" required>
      <input type="text" id="plate" placeholder="Ø§Ù„Ù„ÙˆØ­Ø©">
      <input type="text" id="carType" placeholder="Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠØ§Ø±Ø©">
      <button type="submit">Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</button>
    </form>
    <div id="result"></div>
  </div>

  <script>
    document.getElementById('form').addEventListener('submit', (e) => {
      e.preventDefault();
      const result = document.getElementById('result');
      
      // Ø­Ø³Ø§Ø¨ ID ØªÙ„Ù‚Ø§Ø¦ÙŠ (ÙŠØ·Ø§Ø¨Ù‚ Sheet)
      const id = 10000 + Math.floor(Math.random() * 90000);
      const row = [
        id, document.getElementById('name').value, document.getElementById('phone').value,
        document.getElementById('plate').value, document.getElementById('carType').value || '',
        '', 'Bronze', 0, 'none', new Date().toISOString().split('T')[0]
      ].join('/t');  // Tab-separated Ù„Ù€ Sheet
      
      // Ø±Ø§Ø¨Ø· Sheet Ù…ÙÙ†Ø´Ø± (ØºÙŠÙ‘Ø± Ø¥Ù„Ù‰ publish link)
      const sheetUrl = 'https://docs.google.com/spreadsheets/d/1pincgWtlrrSlf0HmbqhGQDaqtAqUpe261lkh_tJAxtI/edit#gid=0';
      
      result.innerHTML = `
        âœ… ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„! ID: <b>${id}</b><br>
        <a href="https://moahedyounes-debug.github.io/hybridfoam-loyalty/loyalty.html?id=${id}" target="_blank">ğŸ‘‰ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ÙˆÙ„Ø§Ø¡</a><br>
        <small>ØªØ­Ù‚Ù‚ Ù…Ù† Sheet: ${sheetUrl}</small>
      `;
      result.className = 'success';
      document.getElementById('form').reset();
      
      // Copy ID Ù„Ù„Ù€ clipboard
      navigator.clipboard.writeText(id);
      alert(`ID ${id} Ù…ÙÙ†Ø³Ø®! Ø£Ù„ØµÙ‚Ù‡ ÙÙŠ Sheet ÙŠØ¯ÙˆÙŠÙ‹Ø§ Ø£Ùˆ Ø§Ø·Ø¨Ø¹ QR`);
    });
  </script>
</body>
</html>
